<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>POPPY PLAYTIME CHAPTER 4 — Demo</title>

  <!-- Fuente con estilo "creepy" similar a Poppy Playtime -->
  <link href="https://fonts.googleapis.com/css2?family=Creepster&family=Inter:wght@400;600;700&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg:#0b0f14;
      --panel:#0f1720;
      --accent:#1eb980; /* Play Store-like green accent */
      --muted:#98a0aa;
      --glow: 0 8px 30px rgba(30,185,128,0.12);
    }
    *{box-sizing:border-box}
    html,body{height:100%;margin:0;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial;}
    body{
      background: linear-gradient(180deg,#051019 0%, #0b0f14 60%);
      color:#e6eef6;
      display:flex;
      align-items:stretch;
      justify-content:center;
      padding:30px;
    }

    /* Overlay intro (epic entrance) */
    .intro-wrap{
      position:fixed;
      inset:0;
      display:flex;
      align-items:center;
      justify-content:center;
      background:linear-gradient(180deg, rgba(3,6,10,0.85), rgba(3,6,10,0.95));
      z-index:40;
      flex-direction:column;
      gap:18px;
      padding:20px;
    }

    .epic-line{
      font-family:"Creepster", cursive;
      color:#fff;
      font-size:clamp(22px, 6vw, 68px);
      text-align:center;
      letter-spacing:2px;
      text-shadow: 0 6px 24px rgba(0,0,0,0.7), 0 0 14px rgba(30,185,128,0.08);
      opacity:0;
      transform: translateY(20px) scale(.95);
      animation: showUp 0.8s forwards;
    }

    .epic-sub{
      font-size:clamp(14px, 2.4vw, 22px);
      font-weight:600;
      color:var(--muted);
      opacity:0;
      transform: translateY(10px);
      animation: showUp 0.6s forwards;
      animation-delay:0.9s;
    }

    @keyframes showUp{
      to{opacity:1; transform:none;}
    }

    /* Blinking underline / sweep */
    .sweep {
      position:relative;
      overflow:hidden;
    }
    .sweep::after{
      content:"";
      position:absolute;
      left:-120%;
      top:0;
      height:100%;
      width:120%;
      background:linear-gradient(90deg, rgba(255,255,255,0) 0%, rgba(255,255,255,0.06) 50%, rgba(255,255,255,0) 100%);
      transform:skewX(-20deg);
      animation: sweep 2.4s ease-in-out 1s forwards;
    }
    @keyframes sweep{ to{left:120%;} }

    /* Main card resembling Play Store app page */
    .card{
      width:100%;
      max-width:980px;
      margin:auto;
      background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      border-radius:14px;
      box-shadow: var(--glow);
      border:1px solid rgba(255,255,255,0.03);
      overflow:hidden;
      z-index:10;
      display:flex;
      flex-direction:column;
    }

    .hero{
      display:flex;
      gap:20px;
      padding:28px;
      align-items:center;
    }
    .app-art{
      width:160px;
      height:160px;
      border-radius:12px;
      background:linear-gradient(180deg,#16202b,#0e1317);
      display:flex;
      align-items:center;
      justify-content:center;
      flex-shrink:0;
      box-shadow: 0 6px 30px rgba(0,0,0,0.6), inset 0 1px 0 rgba(255,255,255,0.02);
      border:1px solid rgba(255,255,255,0.03);
    }
    .app-art .logo{
      font-family:"Creepster", cursive;
      font-size:34px;
      color:#fff;
      transform:rotate(-6deg);
      text-shadow: 0 20px 40px rgba(0,0,0,0.6);
    }

    .hero .meta{
      flex:1;
    }
    .meta h1{
      margin:0;
      font-size:22px;
      letter-spacing:1px;
      color:#fff;
      font-weight:700;
    }
    .meta .studio{
      margin-top:8px;
      color:var(--muted);
      font-size:13px;
    }
    .meta .tag{
      margin-top:12px;
      display:inline-block;
      padding:6px 10px;
      background: rgba(255,255,255,0.03);
      border-radius:8px;
      font-size:13px;
      color:var(--muted);
      border:1px solid rgba(255,255,255,0.02);
    }

    /* Content area */
    .content{
      padding:24px;
      border-top:1px solid rgba(255,255,255,0.02);
      display:flex;
      gap:20px;
      align-items:flex-start;
    }

    .left{
      flex:1;
    }
    .desc{
      color:var(--muted);
      line-height:1.5;
      margin-bottom:18px;
    }

    /* Big download area fixed bottom */
    .download-bar{
      position:sticky;
      bottom:0;
      background:linear-gradient(180deg, rgba(6,8,10,0.6), rgba(4,6,8,0.9));
      padding:18px 24px;
      display:flex;
      gap:18px;
      align-items:center;
      justify-content:space-between;
      border-top:1px solid rgba(255,255,255,0.02);
    }

    .download-block{
      display:flex;
      gap:12px;
      align-items:center;
      width:100%;
    }

    .download-info{
      flex:1;
    }
    .download-info .title{
      font-weight:700;
      color:#fff;
      font-size:15px;
    }
    .download-info .estimate{
      color:var(--muted);
      font-size:13px;
      margin-top:6px;
    }

    /* Animated download button */
    .download-btn{
      background:linear-gradient(180deg,var(--accent), #16a66b);
      border:none;
      padding:14px 20px;
      font-weight:800;
      color:white;
      border-radius:12px;
      cursor:pointer;
      font-size:15px;
      box-shadow: 0 12px 30px rgba(30,185,128,0.18);
      transform-origin:center;
      outline:none;
      display:inline-flex;
      align-items:center;
      gap:10px;
    }

    /* Zoom in/out animation repeating */
    .download-btn:before{
      content:"";
      position:absolute;
      inset:0;
      border-radius:12px;
      pointer-events:none;
    }
    .pulse-wrap{
      position:relative;
      display:inline-block;
      animation: btnPulse 1.6s ease-in-out infinite;
    }
    @keyframes btnPulse{
      0%{transform:scale(1);}
      50%{transform:scale(1.08);}
      100%{transform:scale(1);}
    }

    /* Progress area hidden until download starts */
    .progress-wrap{
      margin-top:10px;
      width:100%;
      display:none;
      gap:12px;
    }
    .progress{
      height:12px;
      background:rgba(255,255,255,0.04);
      border-radius:999px;
      overflow:hidden;
      border:1px solid rgba(0,0,0,0.3);
    }
    .progress .bar{
      height:100%;
      width:0%;
      background:linear-gradient(90deg, rgba(255,255,255,0.06), rgba(255,255,255,0.02));
      position:relative;
    }
    .progress .bar::after{
      content:"";
      position:absolute;
      inset:0;
      background:linear-gradient(90deg, rgba(30,185,128,0.5), rgba(255,255,255,0.06));
      mix-blend-mode:screen;
      transform-origin:left;
      transition:width 0.3s linear;
    }
    .pct{
      font-weight:700;
      letter-spacing:0.6px;
      color:#fff;
      font-size:13px;
      width:72px;
      text-align:right;
    }

    /* Small footer note */
    .note{
      color:var(--muted);
      font-size:12px;
      margin-top:8px;
    }

    /* Responsive */
    @media (max-width:780px){
      .app-art{width:120px;height:120px}
      .hero{padding:18px}
      .content{flex-direction:column}
      .download-bar{flex-direction:column;align-items:stretch;gap:12px}
      .pct{text-align:left;width:auto}
    }
  </style>
</head>
<body>

  <!-- Intro / cinematic overlay -->
  <div class="intro-wrap" id="intro">
    <div class="epic-line sweep" style="animation-delay:0.2s">ANDZXX &amp; NEW BROTHERS STUDIOS</div>
    <div class="epic-sub" style="animation-delay:1.1s">By present</div>
    <div class="epic-sub" style="animation-delay:1.6s; font-weight:700; font-size:18px; color:#dfeef8">
      This APK of POPPY PLAYTIME CHAPTER 4
    </div>
  </div>

  <!-- Main card -->
  <div class="card" role="main" aria-labelledby="app-title">
    <div class="hero">
      <div class="app-art" aria-hidden="true">
        <div class="logo">PP4</div>
      </div>

      <div class="meta">
        <h1 id="app-title">POPPY PLAYTIME CHAPTER 4</h1>
        <div class="studio">ANDZXX &amp; NEW BROTHERS STUDIOS</div>
        <div class="tag">Adventure • Horror • Single Player</div>
      </div>

      <div style="min-width:120px; text-align:right;">
        <div style="font-weight:800; color:#fff; font-size:14px;">4.6 ★</div>
        <div style="color:var(--muted); font-size:12px; margin-top:6px;">500K+ installs</div>
      </div>
    </div>

    <div class="content">
      <div class="left">
        <div class="desc">
          Dive into the next chilling chapter of Poppy Playtime. Explore the abandoned factory, solve machinery puzzles, and survive encounters with new terrifying toys. This page simulates an app download experience with polished animations and progress bars inspired by modern app stores.
        </div>

        <div style="display:flex;gap:14px;flex-wrap:wrap;">
          <div style="padding:10px 14px;background:rgba(255,255,255,0.02);border-radius:10px;font-size:13px;color:var(--muted);">Updated: Nov 2025</div>
          <div style="padding:10px 14px;background:rgba(255,255,255,0.02);border-radius:10px;font-size:13px;color:var(--muted);">Size: 1.2 GB</div>
          <div style="padding:10px 14px;background:rgba(255,255,255,0.02);border-radius:10px;font-size:13px;color:var(--muted);">Rated: Teen</div>
        </div>

        <p class="note">Design note: the font and styling are inspired by horror-themed display fonts; this is a visual demo and not an official store page.</p>
      </div>

      <div style="width:320px;">
        <!-- Placeholder screenshots -->
        <div style="background:linear-gradient(180deg,#0b1116,#071018);border-radius:12px;padding:12px; display:flex;flex-direction:column; gap:10px;">
          <div style="height:160px;border-radius:10px;background:linear-gradient(90deg,#08121a,#0b0812);display:flex;align-items:center;justify-content:center;color:rgba(255,255,255,0.06);font-size:14px;">
            Screenshot (demo)
          </div>
          <div style="display:flex;gap:10px;">
            <div style="flex:1;height:64px;border-radius:8px;background:linear-gradient(90deg,#071018,#0b0a12);display:flex;align-items:center;justify-content:center;color:rgba(255,255,255,0.04);font-size:12px;">Shot 1</div>
            <div style="flex:1;height:64px;border-radius:8px;background:linear-gradient(90deg,#071018,#0b0a12);display:flex;align-items:center;justify-content:center;color:rgba(255,255,255,0.04);font-size:12px;">Shot 2</div>
          </div>
        </div>
      </div>
    </div>

    <!-- Sticky download bar -->
    <div class="download-bar" aria-hidden="false">
      <div class="download-block">
        <div class="download-info">
          <div class="title">POPPY PLAYTIME CHAPTER 4</div>
          <div class="estimate" id="estimateText">Ready to download</div>

          <div class="progress-wrap" id="progressWrap" aria-live="polite">
            <div style="display:flex;align-items:center;gap:12px;margin-top:12px;">
              <div class="progress" style="flex:1;" aria-hidden="false">
                <div class="bar" id="progressBar" style="width:0%"></div>
              </div>
              <div class="pct" id="pct">0%</div>
            </div>
            <div style="display:flex;justify-content:space-between;margin-top:8px">
              <div style="font-size:12px;color:var(--muted);" id="statusText">Waiting</div>
              <div style="font-size:12px;color:var(--muted);" id="timeNote">—</div>
            </div>
          </div>
        </div>

        <div style="display:flex;align-items:center;gap:10px;">
          <div class="pulse-wrap">
            <button class="download-btn" id="downloadBtn" aria-pressed="false">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" aria-hidden="true">
                <path d="M12 3v12" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M8 11l4 4 4-4" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M21 21H3" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
              ¡DESCARGAR!
            </button>
          </div>
        </div>
      </div>
    </div>

  </div>

  <script>
    // Remove intro after sequence (epic entrance)
    (function(){
      const intro = document.getElementById('intro');

      // Sequence timings (in ms)
      const totalIntro = 2600; // show for ~2.6s then fade
      setTimeout(() => {
        intro.style.transition = "opacity 700ms ease, transform 700ms ease";
        intro.style.opacity = 0;
        intro.style.transform = "scale(0.98) translateY(-6px)";
        setTimeout(()=> intro.remove(), 750);
      }, totalIntro);
    })();

    // Download simulation logic
    (function(){
      const btn = document.getElementById('downloadBtn');
      const pct = document.getElementById('pct');
      const bar = document.getElementById('progressBar');
      const wrap = document.getElementById('progressWrap');
      const estimateText = document.getElementById('estimateText');
      const statusText = document.getElementById('statusText');
      const timeNote = document.getElementById('timeNote');

      // Possible spawn outcomes with weights: 60% / 20% / 20%
      const outcomes = [
        {prob:0.6, label:"Estimated: 4 hours", hours:4},
        {prob:0.2, label:"Estimated: 2 hours 30 minutes", hours:2.5},
        {prob:0.2, label:"Estimated: 5 hours", hours:5}
      ];

      // Utility: choose weighted random
      function chooseWeighted(list){
        const r = Math.random();
        let acc = 0;
        for(let i=0;i<list.length;i++){
          acc += list[i].prob;
          if(r <= acc) return list[i];
        }
        return list[list.length-1];
      }

      // Simulate a Play-Store-like fill: we'll accelerate the real-time "estimated" to a visual demo duration
      // Visual duration (seconds) — tune for pleasant UX
      const visualDur = 22; // seconds to go 0->100 visually

      let isDownloading = false;
      let animHandle = null;

      btn.addEventListener('click', async function(){
        if(isDownloading) return;
        isDownloading = true;
        btn.setAttribute('aria-pressed','true');

        // pick outcome
        const pick = chooseWeighted(outcomes);
        estimateText.textContent = pick.label;
        wrap.style.display = "block";
        statusText.textContent = "Preparing download...";
        timeNote.textContent = pick.label.replace("Estimated: ","");

        // simulate small delay before progress begins
        await delay(600);

        // Start progress animation
        const start = performance.now();
        const duration = visualDur * 1000; // ms
        statusText.textContent = "Downloading";

        // Smooth progress easing (ease-out)
        function easeOutCubic(t){ return 1 - Math.pow(1 - t, 3); }

        function step(ts){
          const elapsed = ts - start;
          const t = Math.min(1, elapsed / duration);
          const eased = easeOutCubic(t);
          const percent = Math.floor(eased * 100);
          bar.style.width = percent + "%";
          pct.textContent = percent + "%";

          // Update a faux remaining time display that matches the chosen "estimated" label,
          // but we show a fast-decaying numeric small-time for user feedback (visual only)
          // We'll display a simulated "time left" in mm:ss that decreases with visual progress.
          const totalVisualSeconds = visualDur;
          const remainingVis = Math.max(0, Math.ceil((1 - eased) * totalVisualSeconds));
          timeNote.textContent = `${formatTime(remainingVis)}`;

          if(t < 1){
            animHandle = requestAnimationFrame(step);
          } else {
            // Finish
            bar.style.width = "100%";
            pct.textContent = "100%";
            statusText.textContent = "Installed";
            timeNote.textContent = pick.label.replace("Estimated: ","");
            // small success pulse
            btn.animate([
              { transform: 'scale(1)' },
              { transform: 'scale(1.04)' },
              { transform: 'scale(1)' }
            ], { duration: 420, easing:'ease-out' });
            isDownloading = false;
            btn.setAttribute('aria-pressed','false');

            // Optionally show a tiny toast (visual)
            showToast("Download complete");
          }
        }

        animHandle = requestAnimationFrame(step);
      });

      function delay(ms){ return new Promise(res => setTimeout(res, ms)); }

      function formatTime(sec){
        // sec is integer seconds
        const m = Math.floor(sec/60);
        const s = sec % 60;
        return (m>0?m+'m ':'') + s + 's';
      }

      // Tiny toast
      function showToast(msg){
        const t = document.createElement('div');
        t.textContent = msg;
        t.style.position = 'fixed';
        t.style.right = '20px';
        t.style.bottom = '90px';
        t.style.padding = '10px 14px';
        t.style.background = 'rgba(20,20,20,0.9)';
        t.style.color = '#dff8ea';
        t.style.borderRadius = '10px';
        t.style.boxShadow = '0 8px 24px rgba(0,0,0,0.6)';
        t.style.fontSize = '13px';
        t.style.zIndex = 120;
        t.style.opacity = '0';
        t.style.transform = 'translateY(8px)';
        t.style.transition = 'opacity 300ms ease, transform 300ms ease';
        document.body.appendChild(t);
        requestAnimationFrame(()=>{ t.style.opacity='1'; t.style.transform='translateY(0)'; });
        setTimeout(()=>{ t.style.opacity='0'; t.style.transform='translateY(8px)'; setTimeout(()=>t.remove(),360); }, 2200);
      }

      // Accessibility: allow keyboard activation
      btn.addEventListener('keydown', (e)=>{
        if(e.key === 'Enter' || e.key === ' ') { e.preventDefault(); btn.click(); }
      });

      // initial small animation: slightly move the progress bar into place after load
      window.addEventListener('load', ()=> {
        // nothing else needed
      });

    })();
  </script>
</body>
</html>